
import folium
import pandas as pd

# 샘플 데이터: 서울 지하철 역의 좌표와 승객 수
# 실제로는 'seoul-metro-station-info.csv'와 'seoul-metro-2021.logs.csv'에서 가져옴
data = {
    'station_name': ['강남역', '서울역', '홍대입구역', '명동역', '여의도역'],
    'latitude': [37.497942, 37.554678, 37.557192, 37.560933, 37.524970],
    'longitude': [127.027626, 126.975147, 126.925381, 126.975147, 126.924191],
    'passengers': [120000, 100000, 80000, 60000, 50000]  # 가상의 일일 승객 수
}
df = pd.DataFrame(data)

# 서울 중심에 지도 생성
map_seoul = folium.Map(location=[37.566535, 126.977941], zoom_start=11)

# 각 역에 승객 수에 따른 마커 추가
for index, row in df.iterrows():
    folium.CircleMarker(
        location=[row['latitude'], row['longitude']],
        radius=row['passengers'] / 10000,  # 승객 수에 비례한 마커 크기
        popup=f"{row['station_name']}: {row['passengers']}명/일",
        color='blue',
        fill=True,
        fill_color='blue',
        fill_opacity=0.6
    ).add_to(map_seoul)

# 지도를 HTML 파일로 저장
map_seoul.save("seoul_subway_map.html")





이 코드는 서울 중심(좌표: 37.566535, 126.977941)에 줌 레벨 11로 설정된 인터랙티브 지도를 생성합니다. 샘플 데이터셋에는 강남역, 서울역, 홍대입구역, 명동역, 여의도역 등 5개 역의 이름, 좌표, 그리고 가상의 일일 승객 수가 포함되어 있습니다. 각 역은 지도에 CircleMarker로 표시되며, 마커의 반지름은 승객 수를 10,000으로 나눈 값에 비례합니다. 마커를 클릭하면 역 이름과 승객 수가 팝업으로 나타납니다. 최종적으로 지도는 seoul_subway_map.html 파일로 저장되어 웹 브라우저에서 확인할 수 있습니다.

주요 관찰:

혼잡한 역: 강남역(일일 120,000명)이 가장 큰 마커로 표시되어 가장 붐비는 역임을 나타냅니다. 다음으로 서울역(100,000명)이 뒤를 잇습니다. 이는 문서에서 강남역이 출퇴근 시간에 혼잡하다는 언급과 일치합니다.
지리적 분포: 역들은 서울 전역에 분포되어 있습니다. 강남역과 여의도역은 남쪽, 서울역과 명동역은 중앙, 홍대입구역은 서쪽에 위치해 있어 다양한 통행 패턴을 보여줍니다.
시각화 효과: 마커 크기가 승객 수를 직관적으로 보여주어 강남역과 같은 주요 역의 중요도가 한눈에 들어옵니다.
한계:

실제 데이터(seoul-metro-2021.logs.csv, seoul-metro-station-info.csv)가 없어 가상 데이터를 사용했습니다.
문서에서 언급된 시간대별(예: 출퇴근 시간) 데이터 분석이 포함되지 않았습니다.
히트맵이나 시간별 애니메이션 같은 추가 기능은 실제 데이터가 있어야 구현 가능합니다.
분석 내용을 제 표현으로 재구성
이 코드는 서울의 중심부(37.566535, 126.977941)를 기준으로 한 대화형 지도를 만들어, 서울 지하철의 주요 역들을 시각적으로 보여줍니다. 강남역, 서울역, 홍대입구역, 명동역, 여의도역 등 5개 역을 예로 들었으며, 각 역은 원형 마커로 표시됩니다. 마커의 크기는 하루 승객 수에 따라 달라지며, 클릭하면 역 이름과 승객 수가 표시됩니다. 이렇게 만들어진 지도는 HTML 파일로 저장되어 누구나 브라우저에서 쉽게 확인할 수 있습니다.

지도에서 보이는 점:

주요 역의 두각: 강남역은 하루 12만 명의 승객으로 가장 큰 마커를 가지며, 상업과 유흥의 중심지로서의 위상을 보여줍니다. 서울역도 10만 명으로 주요 교통 허브임을 알 수 있습니다.
도시 내 분포: 역들이 서울의 남쪽(강남, 여의도), 중앙(서울역, 명동), 서쪽(홍대)에 퍼져 있어, 직장인, 관광객, 젊은 층 등 다양한 이용자 그룹의 이동 패턴을 반영합니다.
직관적 시각화: 마커 크기를 통해 승객 수를 한눈에 비교할 수 있어, 강남역의 높은 이용률이 즉시 눈에 띕니다.
개선할 점:

가상 데이터 대신 실제 데이터셋을 사용하면 더 정확한 분석이 가능합니다. 특히 시간대별 승객 흐름(예: 아침 8시 출근 시간)을 추가하면 출퇴근 패턴을 더 잘 파악할 수 있습니다.
히트맵이나 동적 애니메이션을 추가하면 승객 밀집도나 시간에 따른 변화를 더 생생히 보여줄 수 있습니다.
현재 지도는 단순하지만, 역별 편의시설이나 노선 연결 정보를 추가하면 더 풍부한 정보를 제공할 수 있습니다.
